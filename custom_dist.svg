<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1404px" preserveAspectRatio="none" style="width:1361px;height:1404px;" version="1.1" viewBox="0 0 1361 1404" width="1361px" zoomAndPan="magnify"><defs><filter height="300%" id="frr77xvs9alkx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="1389.7559" style="stroke: #A80036; stroke-width: 1.0;" width="759.5" x="506" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="762.75" y="16.5684">Custom Distribution Implementation</text><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="738.5215" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="592.5" y="205.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="592.5" x2="592.5" y1="205.7305" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="602.5" y1="205.7305" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="592.5" x2="602.5" y1="205.7305" y2="205.7305"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="592.5" y="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="592.5" x2="592.5" y1="985.207" y2="1298.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="602.5" y1="985.207" y2="1298.2676"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="54.1777" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="799.5" y="458.2148"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="112.7988" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="799.5" y="721.2109"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="277.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1092.5" y="360.2832"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="145.2422" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1092.5" y="799.0098"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092.5" x2="1092.5" y1="799.0098" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102.5" x2="1102.5" y1="799.0098" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092.5" x2="1102.5" y1="799.0098" y2="799.0098"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1092.5" y="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092.5" x2="1092.5" y1="985.207" y2="1298.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102.5" x2="1102.5" y1="985.207" y2="1298.2676"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1198.5" y="607.6348"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="15" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1198.5" y="929.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.5" x2="1198.5" y1="929.252" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1208.5" y1="929.252" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.5" x2="1208.5" y1="929.252" y2="929.252"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1198.5" y="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.5" x2="1198.5" y1="985.207" y2="1298.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1208.5" y1="985.207" y2="1298.2676"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="644.9004" style="stroke: #000000; stroke-width: 2.0;" width="1316.5" x="23" y="292.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.5" y="472.4395"/><ellipse cx="804.5" cy="442.9043" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="800.5,430.9043,806.5,425.9043,804.5,430.9043,806.5,435.9043,800.5,430.9043" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="291.6172" style="stroke: none; stroke-width: 1.0;" width="1316.5" x="23" y="645.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.5" y="735.4355"/><ellipse cx="804.5" cy="705.9004" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="800.5,693.9004,806.5,688.9004,804.5,693.9004,806.5,698.9004,800.5,693.9004" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="298.0605" style="stroke: #000000; stroke-width: 2.0;" width="1336.5" x="13" y="992.207"/><rect fill="#FFFFFF" height="222.1289" style="stroke: none; stroke-width: 1.0;" width="1336.5" x="13" y="1068.1387"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1316.5" x="23" y="1119.4043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="58" y1="86.4883" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="58" x2="58" y1="944.252" y2="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="58" y1="985.207" y2="1307.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="532" y1="86.4883" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="532" x2="532" y1="944.252" y2="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="532" y1="985.207" y2="1307.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="597" x2="597" y1="86.4883" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="597" x2="597" y1="944.252" y2="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="597" x2="597" y1="985.207" y2="1307.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="804.5" x2="804.5" y1="729.1445" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="804.5" x2="804.5" y1="944.252" y2="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="804.5" x2="804.5" y1="985.207" y2="1307.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1097.5" x2="1097.5" y1="86.4883" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1097.5" x2="1097.5" y1="944.252" y2="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1097.5" x2="1097.5" y1="985.207" y2="1307.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1203.5" x2="1203.5" y1="86.4883" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1203.5" x2="1203.5" y1="944.252" y2="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1203.5" x2="1203.5" y1="985.207" y2="1307.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1300.5" x2="1300.5" y1="86.4883" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1300.5" x2="1300.5" y1="944.252" y2="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1300.5" x2="1300.5" y1="985.207" y2="1307.2676"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="33" y="83.5352">Kernel</text><path d="M37.5,42 L37.5,66 M37.5,54 L54.5,54 " fill="none" filter="url(#frr77xvs9alkx)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="66.5" cy="54" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="33" y="1319.8027">Kernel</text><path d="M37.5,1326.7559 L37.5,1350.7559 M37.5,1338.7559 L54.5,1338.7559 " fill="none" filter="url(#frr77xvs9alkx)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="66.5" cy="1338.7559" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#frr77xvs9alkx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="40" x="510" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="517" y="71.5352">Dist</text><rect fill="#FEFECE" filter="url(#frr77xvs9alkx)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="40" x="510" y="1306.2676"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="517" y="1326.8027">Dist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="564" y="83.5352">Acceptor</text><ellipse cx="597.5" cy="54" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="593.5,42,599.5,37,597.5,42,599.5,47,593.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="564" y="1319.8027">Acceptor</text><ellipse cx="597.5" cy="1338.7559" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="593.5,1326.7559,599.5,1321.7559,597.5,1326.7559,599.5,1331.7559,593.5,1326.7559" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.5" y="1319.8027"/><ellipse cx="804.5" cy="1338.7559" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="800.5,1326.7559,806.5,1321.7559,804.5,1326.7559,806.5,1331.7559,800.5,1326.7559" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1059.5" y="83.5352">Controller</text><ellipse cx="1097.5" cy="54" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1093.5,42,1099.5,37,1097.5,42,1099.5,47,1093.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1059.5" y="1319.8027">Controller</text><ellipse cx="1097.5" cy="1338.7559" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1093.5,1326.7559,1099.5,1321.7559,1097.5,1326.7559,1099.5,1331.7559,1093.5,1326.7559" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="1145.5" y="83.5352">Controller Input</text><ellipse cx="1203.5" cy="54" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1199.5,42,1205.5,37,1203.5,42,1205.5,47,1199.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="1145.5" y="1319.8027">Controller Input</text><ellipse cx="1203.5" cy="1338.7559" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1199.5,1326.7559,1205.5,1321.7559,1203.5,1326.7559,1205.5,1331.7559,1199.5,1326.7559" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1271.5" y="83.5352">Remote</text><ellipse cx="1300.5" cy="13" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1300.5,21 L1300.5,48 M1287.5,29 L1313.5,29 M1300.5,48 L1287.5,63 M1300.5,48 L1313.5,63 " fill="none" filter="url(#frr77xvs9alkx)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1271.5" y="1319.8027">Remote</text><ellipse cx="1300.5" cy="1332.7559" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1300.5,1340.7559 L1300.5,1367.7559 M1287.5,1348.7559 L1313.5,1348.7559 M1300.5,1367.7559 L1287.5,1382.7559 M1300.5,1367.7559 L1313.5,1382.7559 " fill="none" filter="url(#frr77xvs9alkx)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="738.5215" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="592.5" y="205.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="592.5" x2="592.5" y1="205.7305" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="602.5" y1="205.7305" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="592.5" x2="602.5" y1="205.7305" y2="205.7305"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="592.5" y="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="592.5" x2="592.5" y1="985.207" y2="1298.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="602.5" y1="985.207" y2="1298.2676"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="54.1777" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="799.5" y="458.2148"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="112.7988" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="799.5" y="721.2109"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="277.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1092.5" y="360.2832"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="145.2422" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1092.5" y="799.0098"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092.5" x2="1092.5" y1="799.0098" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102.5" x2="1102.5" y1="799.0098" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092.5" x2="1102.5" y1="799.0098" y2="799.0098"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1092.5" y="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1092.5" x2="1092.5" y1="985.207" y2="1298.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102.5" x2="1102.5" y1="985.207" y2="1298.2676"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1198.5" y="607.6348"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="15" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1198.5" y="929.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.5" x2="1198.5" y1="929.252" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1208.5" y1="929.252" y2="944.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.5" x2="1208.5" y1="929.252" y2="929.252"/><rect fill="#FFFFFF" filter="url(#frr77xvs9alkx)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1198.5" y="985.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1198.5" x2="1198.5" y1="985.207" y2="1298.2676"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1208.5" y1="985.207" y2="1298.2676"/><polygon fill="#A80036" points="520,113.7988,530,117.7988,520,121.7988,524,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="65" y="113.0566">listen(Name)</text><polygon fill="#A80036" points="69,143.1094,59,147.1094,69,151.1094,65,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="531" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="75" y="142.3672">{ok, {ListenSocket, NetAddress, Creation}}</text><polygon fill="#A80036" points="520,172.4199,530,176.4199,520,180.4199,524,176.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="65" y="171.6777">accept(ListenSocket)</text><polygon fill="#A80036" points="580.5,201.7305,590.5,205.7305,580.5,209.7305,584.5,205.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="586.5" y1="205.7305" y2="205.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="539" y="200.9883">spawn</text><polygon fill="#A80036" points="69,231.041,59,235.041,69,239.041,65,235.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="531" y1="235.041" y2="235.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="75" y="230.2988">pid()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="644.5" y1="264.3516" y2="264.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="644.5" x2="644.5" y1="264.3516" y2="277.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="603.5" x2="644.5" y1="277.3516" y2="277.3516"/><polygon fill="#A80036" points="613.5,273.3516,603.5,277.3516,613.5,281.3516,609.5,277.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="609.5" y="259.6094">gen_tcp:accept(ListenSocket)</text><path d="M23,292.3516 L85,292.3516 L85,299.3516 L75,309.3516 L23,309.3516 L23,292.3516 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="644.9004" style="stroke: #000000; stroke-width: 2.0;" width="1316.5" x="23" y="292.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="305.9199">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="100" y="304.9863">[Incoming Setup]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="612.5" y1="330.9727" y2="326.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="612.5" y1="330.9727" y2="334.9727"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="602.5" x2="1299.5" y1="330.9727" y2="330.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="619.5" y="326.2305">connect</text><polygon fill="#A80036" points="1080.5,356.2832,1090.5,360.2832,1080.5,364.2832,1084.5,360.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="602.5" x2="1086.5" y1="360.2832" y2="360.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="609.5" y="355.541">spawn</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="389.5938" y2="385.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="389.5938" y2="393.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="591.5" y1="389.5938" y2="389.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="75" y="384.8516">! {accept, self(), Controller, Family, Protocol}</text><polygon fill="#A80036" points="520,414.9043,530,418.9043,520,422.9043,524,418.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="418.9043" y2="418.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="450" x="65" y="414.1621">accept_connection(AcceptPid, Controller, MyNode, Allowed, SetupTime)</text><polygon fill="#A80036" points="776.5,444.2148,786.5,448.2148,776.5,452.2148,780.5,448.2148" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="782.5" y1="448.2148" y2="448.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="539" y="443.4727">spawn</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.5" y="472.4395"/><ellipse cx="804.5" cy="442.9043" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="800.5,430.9043,806.5,425.9043,804.5,430.9043,806.5,435.9043,800.5,430.9043" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="809.5" x2="851.5" y1="506.7031" y2="506.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="851.5" y1="506.7031" y2="519.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="810.5" x2="851.5" y1="519.7031" y2="519.7031"/><polygon fill="#A80036" points="820.5,515.7031,810.5,519.7031,820.5,523.7031,816.5,519.7031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="816.5" y="501.9609">dist_util:handshake_other_started(HSData)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="795.5" x2="813.5" y1="510.3926" y2="528.3926"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="795.5" x2="813.5" y1="528.3926" y2="510.3926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="549.0137" y2="545.0137"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="549.0137" y2="553.0137"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="549.0137" y2="545.0137"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="549.0137" y2="553.0137"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1091.5" y1="549.0137" y2="549.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="75" y="544.2715">handshake</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="578.3242" y2="574.3242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="578.3242" y2="582.3242"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1091.5" y1="578.3242" y2="578.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="65" y="573.582">Handshake complete</text><polygon fill="#A80036" points="1186.5,603.6348,1196.5,607.6348,1186.5,611.6348,1190.5,607.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102.5" x2="1192.5" y1="607.6348" y2="607.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="1109.5" y="602.8926">spawn</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1339.5" y1="646.6348" y2="646.6348"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="28" y="657.2695">[Outgoing Setup]</text><polygon fill="#A80036" points="520,677.9004,530,681.9004,520,685.9004,524,681.9004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="681.9004" y2="681.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="65" y="677.1582">"setup(Node, Type, MyNode, LongOrShortNames, SetupTime)"</text><polygon fill="#A80036" points="776.5,707.2109,786.5,711.2109,776.5,715.2109,780.5,711.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="782.5" y1="711.2109" y2="711.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="539" y="706.4688">spawn</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="803.5" y="735.4355"/><ellipse cx="804.5" cy="705.9004" fill="#FEFECE" filter="url(#frr77xvs9alkx)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="800.5,693.9004,806.5,688.9004,804.5,693.9004,806.5,698.9004,800.5,693.9004" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1298.5" x2="1288.5" y1="769.6992" y2="765.6992"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1298.5" x2="1288.5" y1="769.6992" y2="773.6992"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="809.5" x2="1299.5" y1="769.6992" y2="769.6992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="816.5" y="764.957">connect</text><polygon fill="#A80036" points="1080.5,795.0098,1090.5,799.0098,1080.5,803.0098,1084.5,799.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="809.5" x2="1086.5" y1="799.0098" y2="799.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="816.5" y="794.2676">spawn</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="809.5" x2="851.5" y1="828.3203" y2="828.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851.5" x2="851.5" y1="828.3203" y2="841.3203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="810.5" x2="851.5" y1="841.3203" y2="841.3203"/><polygon fill="#A80036" points="820.5,837.3203,810.5,841.3203,820.5,845.3203,816.5,841.3203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="816.5" y="823.5781">dist_util:handshake_we_started(HSData)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="795.5" x2="813.5" y1="832.0098" y2="850.0098"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="795.5" x2="813.5" y1="850.0098" y2="832.0098"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="870.6309" y2="866.6309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="870.6309" y2="874.6309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="870.6309" y2="866.6309"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="870.6309" y2="874.6309"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1091.5" y1="870.6309" y2="870.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="75" y="865.8887">handshake</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="899.9414" y2="895.9414"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="899.9414" y2="903.9414"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1091.5" y1="899.9414" y2="899.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="65" y="895.1992">Handshake complete</text><polygon fill="#A80036" points="1186.5,925.252,1196.5,929.252,1186.5,933.252,1190.5,929.252" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1102.5" x2="1192.5" y1="929.252" y2="929.252"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="1109.5" y="924.5098">spawn</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="650.25" y="968.8867">Connected</text><path d="M13,992.207 L75,992.207 L75,999.207 L65,1009.207 L13,1009.207 L13,992.207 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="298.0605" style="stroke: #000000; stroke-width: 2.0;" width="1336.5" x="13" y="992.207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="1005.7754">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="90" y="1004.8418">[Incoming Data]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1218.5" y1="1030.8281" y2="1026.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1208.5" x2="1218.5" y1="1030.8281" y2="1034.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1208.5" x2="1299.5" y1="1030.8281" y2="1030.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="1225.5" y="1026.0859">Data</text><polygon fill="#A80036" points="69,1056.1387,59,1060.1387,69,1064.1387,65,1060.1387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="1197.5" y1="1060.1387" y2="1060.1387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="75" y="1055.3965">erlang:dist_ctrl_put_data(DHandle, Data)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1349.5" y1="1069.1387" y2="1069.1387"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="18" y="1079.7734">[Outgoing Data]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="1104.4043" y2="1100.4043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1090.5" x2="1080.5" y1="1104.4043" y2="1108.4043"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1091.5" y1="1104.4043" y2="1104.4043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="65" y="1099.6621">dist_data</text><path d="M23,1119.4043 L97,1119.4043 L97,1126.4043 L87,1136.4043 L23,1136.4043 L23,1119.4043 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1316.5" x="23" y="1119.4043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="38" y="1132.9727">loop</text><polygon fill="#A80036" points="69,1154.0254,59,1158.0254,69,1162.0254,65,1158.0254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="1091.5" y1="1158.0254" y2="1158.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="75" y="1153.2832">erlang:dist_ctrl_get_data(DHandle)</text><polygon fill="#A80036" points="1080.5,1183.3359,1090.5,1187.3359,1080.5,1191.3359,1084.5,1187.3359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="1086.5" y1="1187.3359" y2="1187.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="65" y="1182.5938">Data</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1298.5" x2="1288.5" y1="1216.6465" y2="1212.6465"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1298.5" x2="1288.5" y1="1216.6465" y2="1220.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1102.5" x2="1299.5" y1="1216.6465" y2="1216.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1109.5" y="1211.9043">send</text><polygon fill="#A80036" points="1080.5,1248.957,1090.5,1252.957,1080.5,1256.957,1084.5,1252.957" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="1086.5" y1="1252.957" y2="1252.957"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="65" y="1248.2148">none</text><polygon fill="#A80036" points="69,1278.2676,59,1282.2676,69,1286.2676,65,1282.2676" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="1091.5" y1="1282.2676" y2="1282.2676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="75" y="1277.5254">erlang:dist_ctrl_get_data_notification(DHandle)</text><!--
@startuml

skinparam DefaultMonospacedFontName "monospace"


boundary Kernel
box "Custom Distribution Implementation" #LightBlue
    participant Dist
    control Acceptor
    control " "
    control Controller
    control "Controller Input"
end box
actor Remote


Kernel -> Dist: listen(Name)
Dist -> Kernel: {ok, {ListenSocket, NetAddress, Creation}}

Kernel -> Dist: accept(ListenSocket)
Dist -> Acceptor: spawn
activate Acceptor
Dist -> Kernel: pid()

Acceptor -> Acceptor: gen_tcp:accept(ListenSocket)

alt Incoming Setup
    Remote - ->> Acceptor: connect
    Acceptor -> Controller: spawn
    activate Controller
    Acceptor - ->> Kernel: ! {accept, self(), Controller, Family, Protocol}
    Kernel -> Dist: accept_connection(AcceptPid, Controller, MyNode, Allowed, SetupTime)
    create " "
    Dist -> " ": spawn
    activate " "
    " " -> " ": dist_util:handshake_other_started(HSData)
    destroy " "
    Kernel <<- ->> Controller: handshake
    Kernel - ->> Controller: Handshake complete

    Controller -> "Controller Input": spawn
    activate "Controller Input"
else Outgoing Setup
    deactivate Controller
    deactivate "Controller Input"
    Kernel -> Dist: "setup(Node, Type, MyNode, LongOrShortNames, SetupTime)"
    create " "
    Dist -> " ": spawn
    activate " "
    " " - ->> Remote: connect
    " " -> Controller: spawn
    activate Controller
    " " -> " ": dist_util:handshake_we_started(HSData)
    destroy " "

    Kernel <<- ->> Controller: handshake
    Kernel - ->> Controller: Handshake complete

    Controller -> "Controller Input": spawn
    activate "Controller Input"
end

... Connected ...

alt Incoming Data
    Remote - ->> "Controller Input": Data
    "Controller Input" -> Kernel: erlang:dist_ctrl_put_data(DHandle, Data)
else Outgoing Data
    Kernel - ->> Controller: dist_data
    loop
        Controller -> Kernel: erlang:dist_ctrl_get_data(DHandle)
        Kernel -> Controller: Data
        Controller - ->> Remote: send
    end
    Kernel -> Controller: none
    Controller -> Kernel: erlang:dist_ctrl_get_data_notification(DHandle)
end

@enduml

PlantUML version 1.2019.00(Sun Jan 13 16:46:42 CET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 10.0.1+10
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>