<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1541px" preserveAspectRatio="none" style="width:1391px;height:1541px;" version="1.1" viewBox="0 0 1391 1541" width="1391px" zoomAndPan="magnify"><defs><filter height="300%" id="f2u0fg4i69fg2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="1526.6426" style="stroke: #A80036; stroke-width: 1.0;" width="819.5" x="476" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="762.75" y="16.5684">Custom Distribution Implementation</text><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="79.6211" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="622.5" y="205.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="205.7305" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="205.7305" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="632.5" y1="205.7305" y2="205.7305"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="754.832" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="622.5" y="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="326.3066" y2="1081.1387"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="622.5" y="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="1122.0938" y2="1435.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="1122.0938" y2="1435.1543"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="142.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="829.5" y="499.1699"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="112.7988" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="829.5" y="854.0977"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="369.2832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1122.5" y="401.2383"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="149.2422" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1122.5" y="931.8965"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122.5" x2="1122.5" y1="931.8965" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1132.5" y1="931.8965" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122.5" x2="1132.5" y1="931.8965" y2="931.8965"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1122.5" y="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122.5" x2="1122.5" y1="1122.0938" y2="1435.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1132.5" y1="1122.0938" y2="1435.1543"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1228.5" y="740.5215"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="15" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1228.5" y="1066.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1228.5" x2="1228.5" y1="1066.1387" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1238.5" x2="1238.5" y1="1066.1387" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1228.5" x2="1238.5" y1="1066.1387" y2="1066.1387"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1228.5" y="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1228.5" x2="1228.5" y1="1122.0938" y2="1435.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1238.5" x2="1238.5" y1="1122.0938" y2="1435.1543"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="740.832" style="stroke: #000000; stroke-width: 2.0;" width="1350.5" x="19" y="333.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="833.5" y="513.3945"/><ellipse cx="834.5" cy="483.8594" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="830.5,471.8594,836.5,466.8594,834.5,471.8594,836.5,476.8594,830.5,471.8594" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" height="295.6172" style="stroke: none; stroke-width: 1.0;" width="1350.5" x="19" y="778.5215"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="833.5" y="868.3223"/><ellipse cx="834.5" cy="838.7871" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="830.5,826.7871,836.5,821.7871,834.5,826.7871,836.5,831.7871,830.5,826.7871" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="298.0605" style="stroke: #000000; stroke-width: 2.0;" width="1366.5" x="13" y="1129.0938"/><rect fill="#FFFFFF" height="222.1289" style="stroke: none; stroke-width: 1.0;" width="1366.5" x="13" y="1205.0254"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1346.5" x="23" y="1256.291"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="58" y1="86.4883" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="58" x2="58" y1="285.3516" y2="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="58" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="58" x2="58" y1="1081.1387" y2="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="58" y1="1122.0938" y2="1444.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="532" y1="86.4883" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="532" x2="532" y1="285.3516" y2="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="532" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="532" x2="532" y1="1081.1387" y2="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="532" y1="1122.0938" y2="1444.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627" x2="627" y1="86.4883" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="627" x2="627" y1="285.3516" y2="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627" x2="627" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="627" x2="627" y1="1081.1387" y2="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="627" x2="627" y1="1122.0938" y2="1444.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834.5" x2="834.5" y1="862.0313" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="834.5" x2="834.5" y1="1081.1387" y2="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="834.5" x2="834.5" y1="1122.0938" y2="1444.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1127.5" x2="1127.5" y1="86.4883" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1127.5" x2="1127.5" y1="285.3516" y2="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1127.5" x2="1127.5" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1127.5" x2="1127.5" y1="1081.1387" y2="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1127.5" x2="1127.5" y1="1122.0938" y2="1444.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1233.5" x2="1233.5" y1="86.4883" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1233.5" x2="1233.5" y1="285.3516" y2="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1233.5" x2="1233.5" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1233.5" x2="1233.5" y1="1081.1387" y2="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1233.5" x2="1233.5" y1="1122.0938" y2="1444.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1330.5" x2="1330.5" y1="86.4883" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1330.5" x2="1330.5" y1="285.3516" y2="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1330.5" x2="1330.5" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="1330.5" x2="1330.5" y1="1081.1387" y2="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1330.5" x2="1330.5" y1="1122.0938" y2="1444.1543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="33" y="83.5352">Kernel</text><path d="M37.5,42 L37.5,66 M37.5,54 L54.5,54 " fill="none" filter="url(#f2u0fg4i69fg2)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="66.5" cy="54" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="33" y="1456.6895">Kernel</text><path d="M37.5,1463.6426 L37.5,1487.6426 M37.5,1475.6426 L54.5,1475.6426 " fill="none" filter="url(#f2u0fg4i69fg2)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="66.5" cy="1475.6426" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="480" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="487" y="71.5352">gen_tcp_dist</text><rect fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="480" y="1443.1543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="487" y="1463.6895">gen_tcp_dist</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="594" y="83.5352">Acceptor</text><ellipse cx="627.5" cy="54" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="623.5,42,629.5,37,627.5,42,629.5,47,623.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="594" y="1456.6895">Acceptor</text><ellipse cx="627.5" cy="1475.6426" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="623.5,1463.6426,629.5,1458.6426,627.5,1463.6426,629.5,1468.6426,623.5,1463.6426" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="833.5" y="1456.6895"/><ellipse cx="834.5" cy="1475.6426" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="830.5,1463.6426,836.5,1458.6426,834.5,1463.6426,836.5,1468.6426,830.5,1463.6426" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1089.5" y="83.5352">Controller</text><ellipse cx="1127.5" cy="54" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1123.5,42,1129.5,37,1127.5,42,1129.5,47,1123.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="1089.5" y="1456.6895">Controller</text><ellipse cx="1127.5" cy="1475.6426" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1123.5,1463.6426,1129.5,1458.6426,1127.5,1463.6426,1129.5,1468.6426,1123.5,1463.6426" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="1175.5" y="83.5352">Controller Input</text><ellipse cx="1233.5" cy="54" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1229.5,42,1235.5,37,1233.5,42,1235.5,47,1229.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="1175.5" y="1456.6895">Controller Input</text><ellipse cx="1233.5" cy="1475.6426" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="1229.5,1463.6426,1235.5,1458.6426,1233.5,1463.6426,1235.5,1468.6426,1229.5,1463.6426" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1301.5" y="83.5352">Remote</text><ellipse cx="1330.5" cy="13" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1330.5,21 L1330.5,48 M1317.5,29 L1343.5,29 M1330.5,48 L1317.5,63 M1330.5,48 L1343.5,63 " fill="none" filter="url(#f2u0fg4i69fg2)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="1301.5" y="1456.6895">Remote</text><ellipse cx="1330.5" cy="1469.6426" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1330.5,1477.6426 L1330.5,1504.6426 M1317.5,1485.6426 L1343.5,1485.6426 M1330.5,1504.6426 L1317.5,1519.6426 M1330.5,1504.6426 L1343.5,1519.6426 " fill="none" filter="url(#f2u0fg4i69fg2)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="79.6211" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="622.5" y="205.7305"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="205.7305" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="205.7305" y2="285.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="632.5" y1="205.7305" y2="205.7305"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="754.832" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="622.5" y="326.3066"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="326.3066" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="326.3066" y2="1081.1387"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="622.5" y="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="1122.0938" y2="1435.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="1122.0938" y2="1435.1543"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="142.1094" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="829.5" y="499.1699"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="112.7988" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="829.5" y="854.0977"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="369.2832" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1122.5" y="401.2383"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="149.2422" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1122.5" y="931.8965"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122.5" x2="1122.5" y1="931.8965" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1132.5" y1="931.8965" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122.5" x2="1132.5" y1="931.8965" y2="931.8965"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1122.5" y="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1122.5" x2="1122.5" y1="1122.0938" y2="1435.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1132.5" y1="1122.0938" y2="1435.1543"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1228.5" y="740.5215"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="15" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1228.5" y="1066.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1228.5" x2="1228.5" y1="1066.1387" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1238.5" x2="1238.5" y1="1066.1387" y2="1081.1387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1228.5" x2="1238.5" y1="1066.1387" y2="1066.1387"/><rect fill="#FFFFFF" filter="url(#f2u0fg4i69fg2)" height="313.0605" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="1228.5" y="1122.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1228.5" x2="1228.5" y1="1122.0938" y2="1435.1543"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1238.5" x2="1238.5" y1="1122.0938" y2="1435.1543"/><polygon fill="#A80036" points="520,113.7988,530,117.7988,520,121.7988,524,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="65" y="113.0566">listen(Name)</text><polygon fill="#A80036" points="69,143.1094,59,147.1094,69,151.1094,65,147.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="531" y1="147.1094" y2="147.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="75" y="142.3672">{ok, {ListenSocket, NetAddress, Creation}}</text><polygon fill="#A80036" points="520,172.4199,530,176.4199,520,180.4199,524,176.4199" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="176.4199" y2="176.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="65" y="171.6777">accept(ListenSocket)</text><polygon fill="#A80036" points="610.5,201.7305,620.5,205.7305,610.5,209.7305,614.5,205.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="616.5" y1="205.7305" y2="205.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="539" y="200.9883">spawn</text><polygon fill="#A80036" points="69,231.041,59,235.041,69,239.041,65,235.041" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="531" y1="235.041" y2="235.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="75" y="230.2988">pid()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="674.5" y1="264.3516" y2="264.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="674.5" x2="674.5" y1="264.3516" y2="277.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="633.5" x2="674.5" y1="277.3516" y2="277.3516"/><polygon fill="#A80036" points="643.5,273.3516,633.5,277.3516,643.5,281.3516,639.5,277.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="639.5" y="259.6094">gen_tcp:accept(ListenSocket)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="684.75" y="309.9863">Idle</text><path d="M19,333.3066 L81,333.3066 L81,340.3066 L71,350.3066 L19,350.3066 L19,333.3066 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="740.832" style="stroke: #000000; stroke-width: 2.0;" width="1350.5" x="19" y="333.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="34" y="346.875">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="96" y="345.9414">[Incoming Setup]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="642.5" y1="371.9277" y2="367.9277"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="642.5" y1="371.9277" y2="375.9277"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="632.5" x2="1329.5" y1="371.9277" y2="371.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="649.5" y="367.1855">connect</text><polygon fill="#A80036" points="1110.5,397.2383,1120.5,401.2383,1110.5,405.2383,1114.5,401.2383" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="1116.5" y1="401.2383" y2="401.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="639.5" y="396.4961">spawn</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="430.5488" y2="426.5488"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="430.5488" y2="434.5488"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="621.5" y1="430.5488" y2="430.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="276" x="75" y="425.8066">! {accept, self(), Controller, Family, Protocol}</text><polygon fill="#A80036" points="520,455.8594,530,459.8594,520,463.8594,524,459.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="459.8594" y2="459.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="450" x="65" y="455.1172">accept_connection(AcceptPid, Controller, MyNode, Allowed, SetupTime)</text><polygon fill="#A80036" points="806.5,485.1699,816.5,489.1699,806.5,493.1699,810.5,489.1699" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="812.5" y1="489.1699" y2="489.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="539" y="484.4277">spawn</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="833.5" y="513.3945"/><ellipse cx="834.5" cy="483.8594" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="830.5,471.8594,836.5,466.8594,834.5,471.8594,836.5,476.8594,830.5,471.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="547.6582" y2="543.6582"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="547.6582" y2="551.6582"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="621.5" y1="547.6582" y2="547.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="65" y="542.916">{Kernel, controller, Pid}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="576.9688" y2="572.9688"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="68" y1="576.9688" y2="580.9688"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="621.5" y1="576.9688" y2="576.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="75" y="572.2266">{self(), controller}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="817.5" y1="606.2793" y2="602.2793"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="827.5" x2="817.5" y1="606.2793" y2="610.2793"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="828.5" y1="606.2793" y2="606.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="65" y="601.5371">{AcceptorPid, controller}</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="839.5" x2="881.5" y1="635.5898" y2="635.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="881.5" x2="881.5" y1="635.5898" y2="648.5898"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="840.5" x2="881.5" y1="648.5898" y2="648.5898"/><polygon fill="#A80036" points="850.5,644.5898,840.5,648.5898,850.5,652.5898,846.5,648.5898" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="846.5" y="630.8477">dist_util:handshake_other_started(HSData)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="825.5" x2="843.5" y1="639.2793" y2="657.2793"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="825.5" x2="843.5" y1="657.2793" y2="639.2793"/><polygon fill="#FBFB77" filter="url(#f2u0fg4i69fg2)" points="39,661.5898,1146,661.5898,1156,672.5898,1146,684.5898,39,684.5898,29,672.5898,39,661.5898" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="557.75" y="678.1582">Handshake</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1110.5" y1="711.2109" y2="707.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1110.5" y1="711.2109" y2="715.2109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1121.5" y1="711.2109" y2="711.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="65" y="706.4688">Handshake complete</text><polygon fill="#A80036" points="1216.5,736.5215,1226.5,740.5215,1216.5,744.5215,1220.5,740.5215" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1222.5" y1="740.5215" y2="740.5215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="1139.5" y="735.7793">spawn</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="19" x2="1369.5" y1="779.5215" y2="779.5215"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="24" y="790.1563">[Outgoing Setup]</text><polygon fill="#A80036" points="520,810.7871,530,814.7871,520,818.7871,524,814.7871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="526" y1="814.7871" y2="814.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="65" y="810.0449">"setup(Node, Type, MyNode, LongOrShortNames, SetupTime)"</text><polygon fill="#A80036" points="806.5,840.0977,816.5,844.0977,806.5,848.0977,810.5,844.0977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="532" x2="812.5" y1="844.0977" y2="844.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="539" y="839.3555">spawn</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="833.5" y="868.3223"/><ellipse cx="834.5" cy="838.7871" fill="#FEFECE" filter="url(#f2u0fg4i69fg2)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="830.5,826.7871,836.5,821.7871,834.5,826.7871,836.5,831.7871,830.5,826.7871" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1328.5" x2="1318.5" y1="902.5859" y2="898.5859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1328.5" x2="1318.5" y1="902.5859" y2="906.5859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="839.5" x2="1329.5" y1="902.5859" y2="902.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="846.5" y="897.8438">connect</text><polygon fill="#A80036" points="1110.5,927.8965,1120.5,931.8965,1110.5,935.8965,1114.5,931.8965" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="839.5" x2="1116.5" y1="931.8965" y2="931.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="846.5" y="927.1543">spawn</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="839.5" x2="881.5" y1="961.207" y2="961.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="881.5" x2="881.5" y1="961.207" y2="974.207"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="840.5" x2="881.5" y1="974.207" y2="974.207"/><polygon fill="#A80036" points="850.5,970.207,840.5,974.207,850.5,978.207,846.5,974.207" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="253" x="846.5" y="956.4648">dist_util:handshake_we_started(HSData)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="825.5" x2="843.5" y1="964.8965" y2="982.8965"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="825.5" x2="843.5" y1="982.8965" y2="964.8965"/><polygon fill="#FBFB77" filter="url(#f2u0fg4i69fg2)" points="39,987.207,1146,987.207,1156,998.207,1146,1010.207,39,1010.207,29,998.207,39,987.207" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="557.75" y="1003.7754">Handshake</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1110.5" y1="1036.8281" y2="1032.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1110.5" y1="1036.8281" y2="1040.8281"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1121.5" y1="1036.8281" y2="1036.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="65" y="1032.0859">Handshake complete</text><polygon fill="#A80036" points="1216.5,1062.1387,1226.5,1066.1387,1216.5,1070.1387,1220.5,1066.1387" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1132.5" x2="1222.5" y1="1066.1387" y2="1066.1387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="1139.5" y="1061.3965">spawn</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="665.25" y="1105.7734">Connected</text><path d="M13,1129.0938 L75,1129.0938 L75,1136.0938 L65,1146.0938 L13,1146.0938 L13,1129.0938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="298.0605" style="stroke: #000000; stroke-width: 2.0;" width="1366.5" x="13" y="1129.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="1142.6621">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="90" y="1141.7285">[Incoming Data]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1238.5" x2="1248.5" y1="1167.7148" y2="1163.7148"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1238.5" x2="1248.5" y1="1167.7148" y2="1171.7148"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1238.5" x2="1329.5" y1="1167.7148" y2="1167.7148"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="1255.5" y="1162.9727">Data</text><polygon fill="#A80036" points="69,1193.0254,59,1197.0254,69,1201.0254,65,1197.0254" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="1227.5" y1="1197.0254" y2="1197.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="256" x="75" y="1192.2832">erlang:dist_ctrl_put_data(DHandle, Data)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1379.5" y1="1206.0254" y2="1206.0254"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="18" y="1216.6602">[Outgoing Data]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1110.5" y1="1241.291" y2="1237.291"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1110.5" y1="1241.291" y2="1245.291"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="58" x2="1121.5" y1="1241.291" y2="1241.291"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="65" y="1236.5488">dist_data</text><path d="M23,1256.291 L97,1256.291 L97,1263.291 L87,1273.291 L23,1273.291 L23,1256.291 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="105.2422" style="stroke: #000000; stroke-width: 2.0;" width="1346.5" x="23" y="1256.291"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="38" y="1269.8594">loop</text><polygon fill="#A80036" points="69,1290.9121,59,1294.9121,69,1298.9121,65,1294.9121" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="1121.5" y1="1294.9121" y2="1294.9121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="75" y="1290.1699">erlang:dist_ctrl_get_data(DHandle)</text><polygon fill="#A80036" points="1110.5,1320.2227,1120.5,1324.2227,1110.5,1328.2227,1114.5,1324.2227" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="1116.5" y1="1324.2227" y2="1324.2227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="65" y="1319.4805">Data</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1328.5" x2="1318.5" y1="1353.5332" y2="1349.5332"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1328.5" x2="1318.5" y1="1353.5332" y2="1357.5332"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1132.5" x2="1329.5" y1="1353.5332" y2="1353.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="1139.5" y="1348.791">send</text><polygon fill="#A80036" points="1110.5,1385.8438,1120.5,1389.8438,1110.5,1393.8438,1114.5,1389.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="58" x2="1116.5" y1="1389.8438" y2="1389.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="65" y="1385.1016">none</text><polygon fill="#A80036" points="69,1415.1543,59,1419.1543,69,1423.1543,65,1419.1543" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="63" x2="1121.5" y1="1419.1543" y2="1419.1543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="75" y="1414.4121">erlang:dist_ctrl_get_data_notification(DHandle)</text><!--
@startuml

skinparam DefaultMonospacedFontName "monospace"


boundary Kernel
box "Custom Distribution Implementation" #LightBlue
    participant gen_tcp_dist
    control Acceptor
    control " "
    control Controller
    control "Controller Input"
end box
actor Remote


Kernel -> gen_tcp_dist: listen(Name)
gen_tcp_dist -> Kernel: {ok, {ListenSocket, NetAddress, Creation}}

Kernel -> gen_tcp_dist: accept(ListenSocket)
gen_tcp_dist -> Acceptor: spawn
activate Acceptor
gen_tcp_dist -> Kernel: pid()

Acceptor -> Acceptor: gen_tcp:accept(ListenSocket)

... Idle ...

alt Incoming Setup
    Remote - ->> Acceptor: connect
    Acceptor -> Controller: spawn
    activate Controller
    Acceptor - ->> Kernel: ! {accept, self(), Controller, Family, Protocol}
    Kernel -> gen_tcp_dist: accept_connection(AcceptPid, Controller, MyNode, Allowed, SetupTime)
    create " "
    gen_tcp_dist -> " ": spawn
    activate " "
    Kernel - ->> Acceptor: {Kernel, controller, Pid}
    Acceptor - ->> Kernel: {self(), controller}
    Kernel - ->> " ": {AcceptorPid, controller}
    " " -> " ": dist_util:handshake_other_started(HSData)
    destroy " "
    hnote over Kernel, Controller: Handshake
    Kernel - ->> Controller: Handshake complete

    Controller -> "Controller Input": spawn
    activate "Controller Input"
else Outgoing Setup
    deactivate Controller
    deactivate "Controller Input"
    Kernel -> gen_tcp_dist: "setup(Node, Type, MyNode, LongOrShortNames, SetupTime)"
    create " "
    gen_tcp_dist -> " ": spawn
    activate " "
    " " - ->> Remote: connect
    " " -> Controller: spawn
    activate Controller
    " " -> " ": dist_util:handshake_we_started(HSData)
    destroy " "

    hnote over Kernel, Controller: Handshake
    Kernel - ->> Controller: Handshake complete

    Controller -> "Controller Input": spawn
    activate "Controller Input"
end

... Connected ...

alt Incoming Data
    Remote - ->> "Controller Input": Data
    "Controller Input" -> Kernel: erlang:dist_ctrl_put_data(DHandle, Data)
else Outgoing Data
    Kernel - ->> Controller: dist_data
    loop
        Controller -> Kernel: erlang:dist_ctrl_get_data(DHandle)
        Kernel -> Controller: Data
        Controller - ->> Remote: send
    end
    Kernel -> Controller: none
    Controller -> Kernel: erlang:dist_ctrl_get_data_notification(DHandle)
end

@enduml

PlantUML version 1.2019.00(Sun Jan 13 16:46:42 CET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 10.0.1+10
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>